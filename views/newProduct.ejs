<!-- newProduct.ejs -->
<html>
  <head>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/global.css">
    <link rel="stylesheet" href="/newOrEditProduct.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>New Product</title>
  </head>
  <body>
    <%- include("partials/header.ejs") %>
    <div class="container">
        <div class="heading">
            <h2>Add a Product</h2>
        </div>
        <div class="main">
            <form class="productForm" action="/products/new" method="post">
                <!-- Name -->
                <label>
                    Name
                    <input type="text" name="name" placeholder="Banana" value="<%= values?.name || '' %>" required>
                </label>

                <!-- Price -->
                <label>
                    Price
                    <input type="number" name="price" step="0.01" placeholder="1.50" value="<%= values?.price || '' %>" required>
                </label>

                <!-- Brand -->
                <label>
                    Brand
                    <input type="text" name="brand" placeholder="Bakery Dough" value="<%= values?.brand || '' %>" required>
                </label>

                <!-- Quantity -->
                <label>
                    Quantity
                    <input type="number" name="quantity" placeholder="70" value="<%= values?.quantity || '' %>" required>
                </label>

                <label>
                    Emoji
                    <input type="text" name="emoji" placeholder="ðŸŒ" value="<%= values?.emoji || '' %>" required>
                </label>

                <!-- Category -->
                <label>
                Category
                <select name="category" required>
                    <option value="">Select category</option>

                    <% for (const category of categories) { %>
                    <option value="<%= category.name %>"
                        <%= values?.category === category.name ? 'selected' : '' %>>
                        <%= category.name %>
                    </option>
                    <% } %>
                </select>
                </label>

                <% if (errors && errors.length > 0) { %>
                <ul class="errors">
                    <% errors.forEach(err => { %>
                    <li><%= err.msg %></li>
                    <% }) %>
                </ul>
                <% } %>

                <button type="submit">Add Product</button>
            </form>
        </div>
    </div>
    <%- include("partials/footer.ejs") %>
  </body>
</html>
